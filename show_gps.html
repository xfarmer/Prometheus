<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>轨迹回放</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css"/>
    <style>
        html, body, #container {
            height: 100%;
            width: 90%;
            margin-left: 5%;
            margin-right: 5%;
        }

        .input-card .btn{
            margin-right: 1.2rem;
            width: 9rem;
        }

        .input-card .btn:last-child{
            margin-right: 0;
        }
    </style>
</head>
<body>
<div style="margin-top: 25px; margin-left: 10%; margin-right: 10%">
    <h3>Input GPS point array here</h3>
    <label for="gpsPoints"></label><textarea id="gpsPoints" type="text" rows="5" style="width: 100%"></textarea>
    <br>
    <input type="submit" value="Submit" onclick="onSubmit()">
</div>

<br>
<br>

<div id="container"></div>

<!--<div class="input-card">-->
<!--    <h4>轨迹回放控制</h4>-->
<!--    <div class="input-item">-->
<!--        <input type="button" class="btn" value="开始动画" id="start" onclick="startAnimation()"/>-->
<!--        <input type="button" class="btn" value="暂停动画" id="pause" onclick="pauseAnimation()"/>-->
<!--    </div>-->
<!--    <div class="input-item">-->
<!--        <input type="button" class="btn" value="继续动画" id="resume" onclick="resumeAnimation()"/>-->
<!--        <input type="button" class="btn" value="停止动画" id="stop" onclick="stopAnimation()"/>-->
<!--    </div>-->
<!--</div>-->
<script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=您申请的key值"></script>
<script>
    let lineArr = [[116.328465, 40.045490],[116.328465, 40.045490],[116.328464, 40.045491],[116.328464, 40.045494],[116.328464, 40.045494],[116.328465, 40.045497],[116.328465, 40.045499],[116.328467, 40.045503],[116.328519, 40.046027],[116.328561, 40.046076],[116.328559, 40.046046],[116.328555, 40.046060],[116.328540, 40.046065],[116.328512, 40.046031],[116.328502, 40.046027],[116.328483, 40.046036],[116.328473, 40.046051],[116.328467, 40.046069],[116.328460, 40.046083],[116.328442, 40.046089],[116.328429, 40.046092],[116.328418, 40.046098],[116.328408, 40.046108],[116.328409, 40.046125],[116.328408, 40.046140],[116.328410, 40.046155],[116.328409, 40.046162],[116.328402, 40.046169],[116.328390, 40.046170],[116.328371, 40.046168],[116.328352, 40.046169],[116.328338, 40.046171],[116.328330, 40.046178],[116.328317, 40.046181],[116.328307, 40.046185],[116.328291, 40.046188],[116.328276, 40.046194],[116.328266, 40.046198],[116.328255, 40.046202],[116.328252, 40.046207],[116.328249, 40.046207],[116.328248, 40.046211],[116.328242, 40.046217],[116.328238, 40.046225],[116.328237, 40.046238],[116.328239, 40.046251],[116.328240, 40.046262],[116.328235, 40.046271],[116.328225, 40.046282],[116.328217, 40.046293],[116.328215, 40.046298],[116.328210, 40.046304],[116.328201, 40.046311],[116.328187, 40.046316],[116.328175, 40.046319],[116.328160, 40.046326],[116.328146, 40.046334],[116.328134, 40.046342],[116.328120, 40.046348],[116.328110, 40.046353],[116.328104, 40.046358],[116.328101, 40.046361],[116.328100, 40.046363],[116.328101, 40.046360],[116.328098, 40.046357],[116.328093, 40.046351],[116.328080, 40.046342],[116.328070, 40.046336],[116.328055, 40.046326],[116.328045, 40.046322],[116.328035, 40.046319],[116.328027, 40.046321],[116.328021, 40.046329],[116.328018, 40.046336],[116.328016, 40.046343],[116.328015, 40.046350],[116.328011, 40.046355],[116.328005, 40.046359],[116.327990, 40.046355],[116.327976, 40.046352],[116.327957, 40.046348],[116.327943, 40.046349],[116.327922, 40.046350],[116.327895, 40.046348],[116.327870, 40.046343],[116.327843, 40.046335],[116.327812, 40.046322],[116.327783, 40.046311],[116.327758, 40.046292],[116.327727, 40.046274],[116.327695, 40.046258],[116.327661, 40.046245],[116.327627, 40.046230],[116.327598, 40.046214],[116.327570, 40.046188],[116.327548, 40.046165],[116.327526, 40.046143],[116.327505, 40.046116],[116.327481, 40.046093],[116.327461, 40.046073],[116.327440, 40.046056],[116.327421, 40.046038],[116.327403, 40.046015],[116.327387, 40.045992],[116.327372, 40.045969],[116.327356, 40.045950],[116.327341, 40.045931],[116.327329, 40.045918],[116.327317, 40.045898],[116.327205, 40.045716],[116.327189, 40.045689],[116.327174, 40.045665],[116.327167, 40.045647],[116.327160, 40.045630],[116.327149, 40.045611],[116.327143, 40.045595],[116.327140, 40.045581],[116.327133, 40.045567],[116.327124, 40.045553],[116.327115, 40.045538],[116.327105, 40.045528],[116.327093, 40.045518],[116.327074, 40.045510],[116.327064, 40.045495],[116.327065, 40.045476],[116.327068, 40.045458],[116.327067, 40.045450],[116.327065, 40.045441],[116.327061, 40.045433],[116.327051, 40.045430],[116.327036, 40.045429],[116.327019, 40.045425],[116.326998, 40.045419],[116.326974, 40.045420],[116.326950, 40.045420],[116.326926, 40.045422],[116.326909, 40.045421],[116.326893, 40.045418],[116.326883, 40.045411],[116.326873, 40.045405],[116.326856, 40.045402],[116.326832, 40.045398],[116.326804, 40.045399],[116.326776, 40.045395],[116.326754, 40.045389],[116.326736, 40.045380],[116.326715, 40.045370],[116.326695, 40.045356],[116.326674, 40.045341],[116.326656, 40.045323],[116.326644, 40.045301],[116.326631, 40.045280],[116.326613, 40.045266],[116.326592, 40.045254],[116.326565, 40.045247],[116.326537, 40.045246],[116.326510, 40.045250],[116.326486, 40.045253],[116.326462, 40.045257],[116.326440, 40.045258],[116.326425, 40.045252],[116.326411, 40.045245],[116.326399, 40.045236],[116.326385, 40.045229],[116.326372, 40.045223],[116.326357, 40.045217],[116.326345, 40.045208],[116.326339, 40.045199],[116.326333, 40.045189],[116.326321, 40.045179],[116.326311, 40.045173],[116.326295, 40.045172],[116.326281, 40.045172],[116.326263, 40.045177],[116.326236, 40.045190],[116.326208, 40.045197],[116.326182, 40.045202],[116.326158, 40.045206],[116.326137, 40.045207],[116.326120, 40.045207],[116.326104, 40.045204],[116.326088, 40.045204],[116.326078, 40.045207],[116.326067, 40.045204],[116.326058, 40.045194],[116.326048, 40.045182],[116.326035, 40.045174],[116.326020, 40.045169],[116.325999, 40.045167],[116.325980, 40.045164],[116.325966, 40.045155],[116.325949, 40.045143],[116.325933, 40.045128],[116.325922, 40.045111],[116.325912, 40.045097],[116.325903, 40.045080],[116.325894, 40.045061],[116.325884, 40.045044],[116.325871, 40.045030],[116.325855, 40.045018],[116.325836, 40.045009],[116.325820, 40.045001],[116.325808, 40.044989],[116.325798, 40.044975],[116.325791, 40.044964],[116.325784, 40.044958],[116.325773, 40.044950],[116.325768, 40.044945],[116.325766, 40.044940],[116.325766, 40.044934],[116.325764, 40.044926],[116.325758, 40.044920],[116.325745, 40.044915],[116.325730, 40.044913],[116.325715, 40.044914],[116.325698, 40.044914],[116.325687, 40.044913],[116.325674, 40.044911],[116.325660, 40.044905],[116.325647, 40.044896],[116.325631, 40.044886],[116.325612, 40.044877],[116.325586, 40.044874],[116.325560, 40.044870],[116.325537, 40.044867],[116.325525, 40.044862],[116.325513, 40.044862],[116.325494, 40.044861],[116.325472, 40.044861],[116.325456, 40.044859],[116.325440, 40.044855],[116.325424, 40.044848],[116.325412, 40.044839],[116.325402, 40.044824],[116.325398, 40.044813],[116.325397, 40.044804],[116.325391, 40.044796],[116.325385, 40.044789],[116.325372, 40.044785],[116.325357, 40.044780],[116.325338, 40.044776],[116.325316, 40.044776],[116.325302, 40.044774],[116.325285, 40.044772],[116.325268, 40.044765],[116.325249, 40.044762],[116.325231, 40.044761],[116.325217, 40.044759],[116.325205, 40.044760],[116.325195, 40.044759],[116.325186, 40.044758],[116.325172, 40.044755],[116.325153, 40.044748],[116.325131, 40.044739],[116.325113, 40.044731],[116.325099, 40.044717],[116.325086, 40.044703],[116.325074, 40.044691],[116.325061, 40.044682],[116.325052, 40.044670],[116.325038, 40.044663],[116.325025, 40.044655],[116.325011, 40.044649],[116.325001, 40.044643],[116.324991, 40.044635],[116.324982, 40.044626],[116.324971, 40.044618],[116.324956, 40.044608],[116.324941, 40.044598],[116.324930, 40.044592],[116.324918, 40.044587],[116.324907, 40.044582],[116.324896, 40.044574],[116.324881, 40.044563],[116.324865, 40.044552],[116.324850, 40.044548],[116.324833, 40.044544],[116.324819, 40.044544],[116.324800, 40.044542],[116.324783, 40.044538],[116.324768, 40.044532],[116.324753, 40.044526],[116.324736, 40.044527],[116.324723, 40.044525],[116.324708, 40.044524],[116.324688, 40.044524],[116.324670, 40.044525],[116.324658, 40.044529],[116.324651, 40.044538],[116.324634, 40.044546],[116.324619, 40.044554],[116.324605, 40.044556],[116.324591, 40.044558],[116.324578, 40.044557],[116.324563, 40.044554],[116.324546, 40.044547],[116.324528, 40.044539],[116.324517, 40.044531],[116.324509, 40.044524],[116.324500, 40.044512],[116.324491, 40.044498],[116.324475, 40.044485],[116.324460, 40.044471],[116.324450, 40.044451],[116.324433, 40.044428],[116.324425, 40.044411],[116.324417, 40.044397],[116.324401, 40.044386],[116.324380, 40.044370],[116.324349, 40.044365],[116.324315, 40.044361],[116.324282, 40.044363],[116.324253, 40.044362],[116.324230, 40.044359],[116.324207, 40.044354],[116.324184, 40.044349],[116.324165, 40.044345],[116.324153, 40.044339],[116.324140, 40.044330],[116.324126, 40.044316],[116.324114, 40.044304],[116.324101, 40.044293],[116.324094, 40.044286],[116.324087, 40.044281],[116.324082, 40.044275],[116.324075, 40.044270],[116.324067, 40.044265],[116.324057, 40.044255],[116.324038, 40.044248],[116.324012, 40.044245],[116.323982, 40.044249],[116.323954, 40.044252],[116.323933, 40.044258],[116.323913, 40.044264],[116.323891, 40.044259],[116.323868, 40.044255],[116.323844, 40.044244],[116.323831, 40.044235],[116.323818, 40.044228],[116.323803, 40.044222],[116.323793, 40.044218],[116.323782, 40.044213],[116.323767, 40.044210],[116.323751, 40.044211],[116.323737, 40.044208],[116.323722, 40.044202],[116.323717, 40.044195],[116.323713, 40.044186],[116.323709, 40.044170],[116.323701, 40.044152],[116.323692, 40.044136],[116.323680, 40.044121],[116.323664, 40.044107],[116.323650, 40.044101],[116.323629, 40.044096],[116.323599, 40.044095],[116.323564, 40.044101],[116.323531, 40.044110],[116.323495, 40.044122],[116.323469, 40.044124],[116.323452, 40.044121],[116.323429, 40.044120],[116.323407, 40.044116],[116.323388, 40.044113],[116.323369, 40.044108],[116.323354, 40.044098],[116.323335, 40.044084],[116.323318, 40.044069],[116.323305, 40.044048],[116.323293, 40.044022],[116.323284, 40.043997],[116.323279, 40.043977],[116.323258, 40.043961],[116.323233, 40.043948],[116.323212, 40.043930],[116.323193, 40.043923],[116.323173, 40.043914],[116.323154, 40.043909],[116.323135, 40.043909],[116.323112, 40.043917],[116.323091, 40.043922],[116.323066, 40.043926],[116.323048, 40.043923],[116.323028, 40.043915],[116.323007, 40.043913],[116.322984, 40.043912],[116.322964, 40.043909],[116.322941, 40.043903],[116.322927, 40.043894],[116.322909, 40.043896],[116.322891, 40.043899],[116.322868, 40.043891],[116.322840, 40.043878],[116.322816, 40.043867],[116.322789, 40.043853],[116.322762, 40.043836],[116.322746, 40.043816],[116.322731, 40.043806],[116.322718, 40.043805],[116.322696, 40.043815],[116.322675, 40.043832],[116.322652, 40.043850],[116.322633, 40.043866],[116.322610, 40.043885],[116.322596, 40.043907],[116.322587, 40.043928],[116.322577, 40.043950],[116.322563, 40.043972],[116.322549, 40.043997],[116.322538, 40.044022],[116.322522, 40.044045],[116.322505, 40.044070],[116.322492, 40.044092],[116.322482, 40.044112],[116.322477, 40.044130],[116.322474, 40.044142],[116.322471, 40.044158],[116.322466, 40.044171],[116.322463, 40.044185],[116.322468, 40.044202],[116.322476, 40.044216],[116.322484, 40.044236],[116.322477, 40.044257],[116.322468, 40.044277],[116.322461, 40.044296],[116.322459, 40.044317],[116.322462, 40.044337],[116.322467, 40.044356],[116.322469, 40.044373],[116.322469, 40.044389],[116.322466, 40.044405],[116.322463, 40.044418],[116.322458, 40.044426],[116.322449, 40.044429],[116.322439, 40.044435],[116.322424, 40.044444],[116.322408, 40.044456],[116.322390, 40.044471],[116.322372, 40.044487],[116.322352, 40.044500],[116.322331, 40.044509],[116.322310, 40.044523],[116.322288, 40.044535],[116.322269, 40.044559],[116.322254, 40.044591],[116.322243, 40.044613],[116.322230, 40.044634],[116.322215, 40.044658],[116.322202, 40.044675],[116.322192, 40.044687],[116.322185, 40.044698],[116.322179, 40.044709],[116.322175, 40.044717],[116.322171, 40.044725],[116.322167, 40.044736],[116.322165, 40.044744],[116.322163, 40.044755],[116.322157, 40.044765],[116.322151, 40.044770],[116.322143, 40.044773],[116.322132, 40.044778],[116.322122, 40.044786],[116.322112, 40.044790],[116.322101, 40.044794],[116.322094, 40.044801],[116.322088, 40.044807],[116.322080, 40.044817],[116.322073, 40.044827],[116.322068, 40.044834],[116.322062, 40.044844],[116.322053, 40.044858],[116.322045, 40.044866],[116.322029, 40.044872],[116.322005, 40.044876],[116.321981, 40.044880],[116.321957, 40.044886],[116.321946, 40.044898],[116.321941, 40.044907],[116.321941, 40.044920],[116.321942, 40.044934],[116.321941, 40.044951],[116.321941, 40.044969],[116.321937, 40.044989],[116.321932, 40.045007],[116.321925, 40.045021],[116.321916, 40.045029],[116.321907, 40.045036],[116.321892, 40.045046],[116.321878, 40.045057],[116.321859, 40.045069],[116.321850, 40.045089],[116.321840, 40.045110],[116.321824, 40.045128],[116.321798, 40.045144],[116.321779, 40.045158],[116.321760, 40.045169],[116.321737, 40.045179],[116.321711, 40.045187],[116.321694, 40.045200],[116.321676, 40.045211],[116.321660, 40.045221],[116.321647, 40.045235],[116.321635, 40.045250],[116.321627, 40.045265],[116.321618, 40.045275],[116.321617, 40.045289],[116.321612, 40.045299],[116.321625, 40.045231],[116.321603, 40.045249],[116.321594, 40.045273],[116.321597, 40.045301],[116.321617, 40.045334],[116.321628, 40.045350],[116.321634, 40.045357],[116.321637, 40.045361],[116.321638, 40.045363],[116.321639, 40.045364],[116.321639, 40.045365],[116.321639, 40.045365],[116.321639, 40.045365],[116.321640, 40.045365],[116.321640, 40.045365],[116.321640, 40.045365],[116.321640, 40.045365],[116.321640, 40.045365],[116.321640, 40.045364],[116.321637, 40.045358],[116.321625, 40.045315],[116.321623, 40.045309],[116.321623, 40.045303],[116.321623, 40.045299],[116.321623, 40.045297],[116.321623, 40.045296],[116.321623, 40.045295],[116.321625, 40.045290],[116.321635, 40.045274],[116.321646, 40.045256],[116.321652, 40.045239],[116.321649, 40.045224],[116.321637, 40.045209],[116.321621, 40.045196],[116.321595, 40.045188],[116.321573, 40.045183],[116.321543, 40.045185],[116.321501, 40.045199],[116.321483, 40.045204],[116.321466, 40.045208],[116.321450, 40.045212],[116.321434, 40.045217],[116.321414, 40.045220],[116.321398, 40.045227],[116.321384, 40.045235],[116.321377, 40.045248],[116.321377, 40.045267],[116.321377, 40.045284],[116.321372, 40.045301],[116.321365, 40.045311],[116.321355, 40.045320],[116.321339, 40.045330],[116.321318, 40.045345],[116.321300, 40.045359],[116.321281, 40.045370],[116.321257, 40.045376],[116.321238, 40.045383],[116.321217, 40.045386],[116.321197, 40.045393],[116.321185, 40.045408],[116.321178, 40.045424],[116.321174, 40.045441],[116.321171, 40.045457],[116.321164, 40.045474],[116.321155, 40.045483],[116.321148, 40.045488],[116.321140, 40.045489],[116.321124, 40.045494],[116.321108, 40.045507],[116.321094, 40.045522],[116.321080, 40.045539],[116.321070, 40.045559],[116.321060, 40.045579],[116.321057, 40.045599],[116.321055, 40.045614],[116.321049, 40.045626],[116.321039, 40.045637],[116.321024, 40.045647],[116.321008, 40.045654],[116.320993, 40.045664],[116.320988, 40.045679],[116.320978, 40.045682],[116.320970, 40.045681],[116.320962, 40.045678],[116.320954, 40.045674],[116.320942, 40.045675],[116.320932, 40.045681],[116.320920, 40.045690],[116.320904, 40.045697],[116.320889, 40.045704],[116.320877, 40.045704],[116.320867, 40.045708],[116.320859, 40.045718],[116.320849, 40.045731],[116.320837, 40.045744],[116.320827, 40.045756],[116.320816, 40.045767],[116.320804, 40.045778],[116.320795, 40.045788],[116.320786, 40.045797],[116.320779, 40.045810],[116.320769, 40.045817],[116.320764, 40.045826],[116.320757, 40.045835],[116.320749, 40.045846],[116.320741, 40.045849],[116.320725, 40.045848],[116.320707, 40.045847],[116.320689, 40.045844],[116.320670, 40.045843],[116.320654, 40.045852],[116.320636, 40.045865],[116.320623, 40.045881],[116.320614, 40.045902],[116.320606, 40.045925],[116.320603, 40.045952],[116.320599, 40.045974],[116.320598, 40.046000],[116.320597, 40.046025],[116.320595, 40.046045],[116.320592, 40.046064],[116.320586, 40.046081],[116.320576, 40.046100],[116.320569, 40.046118],[116.320561, 40.046135],[116.320550, 40.046149],[116.320533, 40.046162],[116.320518, 40.046178],[116.320502, 40.046194],[116.320494, 40.046209],[116.320491, 40.046225],[116.320489, 40.046240],[116.320487, 40.046257],[116.320481, 40.046271],[116.320480, 40.046284],[116.320476, 40.046294],[116.320468, 40.046304],[116.320460, 40.046316],[116.320449, 40.046324],[116.320435, 40.046333],[116.320427, 40.046346],[116.320420, 40.046361],[116.320415, 40.046373],[116.320418, 40.046389],[116.320424, 40.046401],[116.320422, 40.046415],[116.320414, 40.046426],[116.320409, 40.046439],[116.320390, 40.046449],[116.320369, 40.046458],[116.320347, 40.046465],[116.320328, 40.046462],[116.320311, 40.046461],[116.320292, 40.046464],[116.320271, 40.046469],[116.320255, 40.046477],[116.320243, 40.046486],[116.320233, 40.046499],[116.320226, 40.046516],[116.320226, 40.046533],[116.320230, 40.046548],[116.320237, 40.046561],[116.320245, 40.046573],[116.320251, 40.046585],[116.320256, 40.046592],[116.320258, 40.046597],[116.320259, 40.046600],[116.320257, 40.046604],[116.320255, 40.046609],[116.320253, 40.046615],[116.320241, 40.046622],[116.320235, 40.046629],[116.320233, 40.046635],[116.320227, 40.046647],[116.320220, 40.046657],[116.320207, 40.046674],[116.320190, 40.046693],[116.320183, 40.046709],[116.320178, 40.046721],[116.320175, 40.046738],[116.320175, 40.046755],[116.320168, 40.046771],[116.320158, 40.046786],[116.320140, 40.046802],[116.320124, 40.046819],[116.320108, 40.046830],[116.320097, 40.046843],[116.320091, 40.046858],[116.320087, 40.046876],[116.320086, 40.046889],[116.320088, 40.046900],[116.320087, 40.046910],[116.320083, 40.046919],[116.320077, 40.046927],[116.320067, 40.046943],[116.320055, 40.046959],[116.320035, 40.046973],[116.320018, 40.046986],[116.320000, 40.047000],[116.319978, 40.047011],[116.319953, 40.047022],[116.319925, 40.047032],[116.319891, 40.047038],[116.319865, 40.047043],[116.319852, 40.047053],[116.319840, 40.047060],[116.319828, 40.047062],[116.319816, 40.047068],[116.319805, 40.047077],[116.319794, 40.047085],[116.319784, 40.047095],[116.319768, 40.047107],[116.319765, 40.047125],[116.319761, 40.047144],[116.319751, 40.047163],[116.319733, 40.047183],[116.319719, 40.047200],[116.319701, 40.047214],[116.319693, 40.047230],[116.319691, 40.047247],[116.319687, 40.047262],[116.319690, 40.047278],[116.319693, 40.047293],[116.319695, 40.047308],[116.319698, 40.047325],[116.319696, 40.047336],[116.319691, 40.047350],[116.319684, 40.047362],[116.319674, 40.047370],[116.319661, 40.047378],[116.319647, 40.047389],[116.319633, 40.047399],[116.319624, 40.047416],[116.319612, 40.047431],[116.319599, 40.047446],[116.319587, 40.047460],[116.319576, 40.047476],[116.319569, 40.047494],[116.319563, 40.047506],[116.319560, 40.047515],[116.319558, 40.047521],[116.319554, 40.047528],[116.319543, 40.047535],[116.319539, 40.047538],[116.319539, 40.047544],[116.319539, 40.047553],[116.319536, 40.047566],[116.319531, 40.047580],[116.319525, 40.047597],[116.319521, 40.047616],[116.319516, 40.047635],[116.319515, 40.047655],[116.319513, 40.047672],[116.319511, 40.047685],[116.319504, 40.047694],[116.319494, 40.047701],[116.319483, 40.047704],[116.319466, 40.047705],[116.319445, 40.047703],[116.319420, 40.047701],[116.319392, 40.047698],[116.319370, 40.047696],[116.319350, 40.047700],[116.319328, 40.047713],[116.319305, 40.047727],[116.319281, 40.047736],[116.319251, 40.047743],[116.319212, 40.047747],[116.319168, 40.047751],[116.319127, 40.047754],[116.319095, 40.047759],[116.319065, 40.047770],[116.319041, 40.047783],[116.319024, 40.047798],[116.319013, 40.047807],[116.319016, 40.047823],[116.319018, 40.047838],[116.319025, 40.047853],[116.319020, 40.047870],[116.319013, 40.047886],[116.319007, 40.047903],[116.319004, 40.047918],[116.319003, 40.047934],[116.319001, 40.047952],[116.319001, 40.047974],[116.319000, 40.047993],[116.318999, 40.048012],[116.318992, 40.048028],[116.318984, 40.048045],[116.318977, 40.048058],[116.318970, 40.048068],[116.318965, 40.048075],[116.318960, 40.048080],[116.318959, 40.048087],[116.318956, 40.048095],[116.318953, 40.048108],[116.318949, 40.048116],[116.318945, 40.048124],[116.318936, 40.048135],[116.318928, 40.048147],[116.318925, 40.048158],[116.318922, 40.048170],[116.318921, 40.048181],[116.318916, 40.048186],[116.318910, 40.048191],[116.318903, 40.048184],[116.318897, 40.048177],[116.318890, 40.048170],[116.318886, 40.048163],[116.318899, 40.048160],[116.318924, 40.048160],[116.318947, 40.048158],[116.318970, 40.048159],[116.318986, 40.048162],[116.318998, 40.048171],[116.319006, 40.048183],[116.319014, 40.048191],[116.319021, 40.048189],[116.319032, 40.048184],[116.319048, 40.048175],[116.319053, 40.048172],[116.319054, 40.048171],[116.319047, 40.048176],[116.319044, 40.048190],[116.319043, 40.048206],[116.319041, 40.048218],[116.319037, 40.048227],[116.319026, 40.048230],[116.319009, 40.048226],[116.318992, 40.048219],[116.318970, 40.048215],[116.318946, 40.048206],[116.318923, 40.048194],[116.318901, 40.048179],[116.318875, 40.048178],[116.318855, 40.048179],[116.318834, 40.048179],[116.318813, 40.048179],[116.318791, 40.048178],[116.318774, 40.048177],[116.318765, 40.048179],[116.318759, 40.048189],[116.318757, 40.048207],[116.318754, 40.048225],[116.318750, 40.048242],[116.318749, 40.048256],[116.318750, 40.048267],[116.318753, 40.048280],[116.318758, 40.048295],[116.318762, 40.048306],[116.318759, 40.048318],[116.318753, 40.048331],[116.318741, 40.048344],[116.318729, 40.048357],[116.318710, 40.048366],[116.318693, 40.048375],[116.318679, 40.048385],[116.318675, 40.048388],[116.318684, 40.048391],[116.318698, 40.048391],[116.318707, 40.048391],[116.318713, 40.048393],[116.318718, 40.048401],[116.318724, 40.048411],[116.318733, 40.048424],[116.318741, 40.048434],[116.318750, 40.048445],[116.318760, 40.048456],[116.318771, 40.048468],[116.318783, 40.048480],[116.318796, 40.048492],[116.318810, 40.048503],[116.318822, 40.048515],[116.318828, 40.048528],[116.318833, 40.048543],[116.318838, 40.048557],[116.318839, 40.048573],[116.318841, 40.048587],[116.318842, 40.048602],[116.318828, 40.048620],[116.318813, 40.048636],[116.318791, 40.048651],[116.318774, 40.048662],[116.318753, 40.048672],[116.318731, 40.048685],[116.318684, 40.048691],[116.317812, 40.048602],[116.317825, 40.048580],[116.317821, 40.048582],[116.317784, 40.048584],[116.317756, 40.048589],[116.317732, 40.048597],[116.317710, 40.048605],[116.317689, 40.048613]];

    document.getElementById('gpsPoints').value = JSON.stringify(lineArr)

    let map = new AMap.Map("container", {
        resizeEnable: true,
        center: [116.328465, 40.045490],
        zoom: 30
    });

    // 绘制轨迹
    let polyline = new AMap.Polyline({
        map: map,
        path: lineArr,
        bubble: true,
        showDir:true,
        strokeColor: "#28F",  //线颜色
        // strokeOpacity: 1,     //线透明度
        strokeWeight: 5,      //线宽
        // strokeStyle: "solid"  //线样式
    });

    let passedPolyline = new AMap.Polyline({
        map: map,
        // path: lineArr,
        strokeColor: "#AF5",  //线颜色
        // strokeOpacity: 1,     //线透明度
        strokeWeight: 6,      //线宽
        // strokeStyle: "solid"  //线样式
    });

    map.setFitView();

    // let marker = new AMap.Marker({
    //     map: map,
    //     position: [116.328465, 40.045490],
    //     icon: "https://webapi.amap.com/images/car.png",
    //     offset: new AMap.Pixel(-26, -13),
    //     autoRotation: true,
    //     angle:-90,
    // });
    //
    // marker.on('moving', function (e) {
    //     passedPolyline.setPath(e.passedPath);
    // });

    // function startAnimation () {
    //     marker.moveAlong(polyline.getPath(), 200);
    // }
    //
    // function pauseAnimation () {
    //     marker.pauseMove();
    // }
    //
    // function resumeAnimation () {
    //     marker.resumeMove();
    // }
    //
    // function stopAnimation () {
    //     marker.stopMove();
    // }

    function onSubmit() {
        let points = document.getElementById('gpsPoints').value
        let data = JSON.parse(points)
        console.log(data)

        polyline.setPath(data)

        map.setFitView();
        let startPoint = AMap.LngLat(data[0][0], data[0][1]);
        map.setCenter(startPoint);
        // marker.setPosition(startPoint);
    }
</script>
</body>
</html>